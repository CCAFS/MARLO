$(document).ready(init);

function init() {
  // Attaching events
  attachEvents();
}

function attachEvents() {
  /**
   * General:
   */
  $(".requestPopUp").on("click", function(e) {
    e.preventDefault();
    openDialog();
  });

  $('.close-dialog').on('click', function() {
    $("#popUp").dialog("close");
  });

  $("#sendRequest").on("click", requestService);

}

function openDialog() {
  $(".newTargetUnit").val("");
  $("#popUp").dialog({
      resizable: false,
      width: 400,
      modal: true,
      dialogClass: 'dialog-searchUsers',
      show: {
          effect: "blind",
          duration: 500
      },
      hide: {
          effect: "fadeOut",
          duration: 500
      },
      open: function(event,ui) {
      }
  });
}

function requestService() {
  $.ajax({
      url: baseURL + "/targetUnitRequest.do",
      type: 'GET',
      data: {
          targetUnitName: $(".newTargetUnit").val(),
          phaseID: phaseID
      },
      success: function(m) {
        console.log(m);
        $("#popUp").dialog("close");
      },
      error: function(e) {
        console.log(e);
      }
  });
}
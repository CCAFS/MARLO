<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.3//EN" "http://struts.apache.org/dtds/struts-2.3.dtd">
<struts>
	<!-- Add addition packages and configuration here. -->
	<package name="home" namespace="/" extends="marlo-default">

		<action name="login" class="org.cgiar.ccafs.marlo.action.home.LoginAction"
			method="login">
			<result name="input">/WEB-INF/crp/views/home/login.ftl</result>
			<result name="success" type="redirectAction">
				<param name="actionName">${crpSession}/crpDashboard</param>
			</result>
			<result name="login" type="redirect">${url}</result>
		</action>

		<action name="sendMailTest" class="org.cgiar.ccafs.marlo.SendMailTest">
			<result name="success" type="redirectAction">
				<param name="actionName">${crpSession}/crpDashboard</param>
			</result>
		</action>

		<action name="test404" class="org.cgiar.ccafs.marlo.action.Test404">
			<result name="success" type="httpheader">
				<param name="status">200</param>
				<param name="errorMessage">Ok</param>
			</result>
			<result name="input" type="httpheader">
				<param name="status">404</param>
				<param name="errorMessage">Not Found</param>
			</result>
		</action>

		<action name="logout" class="org.cgiar.ccafs.marlo.action.home.LoginAction"
			method="logout">
			<result name="success">/WEB-INF/crp/views/home/login.ftl</result>
		</action>

		<action name="{*}/crpDashboard"
			class="org.cgiar.ccafs.marlo.action.home.DashboardAction">
			<!-- interceptor-ref name="autoLogin" / -->
			<interceptor-ref name="homeStack" />
			<result name="input">/WEB-INF/crp/views/home/dashboard.ftl</result>
		</action>
	</package>

</struts>

<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.3//EN" "http://struts.apache.org/dtds/struts-2.3.dtd">
<struts>
	<!-- Add addition packages and configuration here. -->
	<package name="projects" namespace="/projects" extends="marlo-default">
		<action name="{crp}/projectsList"
			class="org.cgiar.ccafs.marlo.action.projects.ProjectListAction">
			<interceptor-ref name="projectsStack" />
			<result name="input">/WEB-INF/views/projects/projectsList.ftl</result>
			<result name="success" type="redirectAction">
				<param name="actionName">${crpSession}/projectsList</param>
				<param name="edit">true</param>
			</result>
			<result name="cancel" type="redirectAction">
				<param name="actionName">${crpSession}/projectsList</param>
				<param name="edit">true</param>
				<param name="cancel">true</param>
			</result>
		</action>
		
		
		  <action name="reportingSummary"
      class="org.cgiar.ccafs.marlo.action.summaries.ReportingSummaryAction">
      <result name="success" type="stream">
         <param name="inputName">inputStream</param>
          <param name="contentType">${contentType}</param>
          <param name="contentDisposition">filename="${fileName}"</param>
      </result>
    </action>
		
		
		
		<action name="{crp}/addNewCoreProject" method="addCoreProject"
      class="org.cgiar.ccafs.marlo.action.projects.ProjectListAction">
      <interceptor-ref name="projectListStack" />
      <result name="input">/WEB-INF/views/projects/projectsList.ftl
      </result>
      <result name="success" type="redirectAction">
        <param name="actionName">${crpSession}/description</param>
        <param name="projectID">${projectID}</param>
        <param name="edit">true</param>
      </result>
    </action>
    
    
     <action name="{crp}/deleteProject" method="delete" class="org.cgiar.ccafs.marlo.action.projects.ProjectListAction">
       <interceptor-ref name="projectListStack" />
      <result name="input">/WEB-INF/views/projects/projectsList.ftl
      </result>
      <result name="success" type="redirectAction">
        <param name="actionName">${crpSession}/projectsList</param>
       
      </result>
      
      
      
    </action>
    
    <action name="{crp}/addNewBilateralProject" method="addBilateralProject"
      class="org.cgiar.ccafs.marlo.action.projects.ProjectListAction">
      <interceptor-ref name="projectListStack" />
      <result name="input">/WEB-INF/views/projects/projectsList.ftl
      </result>
      <result name="success" type="redirectAction">
        <param name="actionName">${crpSession}/description</param>
        <param name="projectID">${projectID}</param>
        <param name="edit">true</param>
      </result>
    </action>

		<action name="{crp}/description"
			class="org.cgiar.ccafs.marlo.action.projects.ProjectDescriptionAction">
			<interceptor-ref name="editProjectsStack" />
			<result name="input">/WEB-INF/views/projects/projectDescription.ftl
			</result>
			<result name="success" type="redirectAction">
				<param name="actionName">${crpSession}/description</param>
				<param name="edit">true</param>
				<param name="projectID">${projectID}</param>
			</result>
			<result name="cancel" type="redirectAction">
				<param name="actionName">${crpSession}/description</param>
				<param name="edit">true</param>
				<param name="cancel">true</param>
				<param name="projectID">${projectID}</param>
			</result>
		</action>

		<action name="{crp}/partners"
			class="org.cgiar.ccafs.marlo.action.projects.ProjectPartnerAction">
			<interceptor-ref name="editProjectsStack" />
			<result name="input">/WEB-INF/views/projects/projectPartners.ftl
			</result>
			<result name="success" type="redirectAction">
				<param name="actionName">${crpSession}/partners</param>
				<param name="edit">true</param>
				<param name="projectID">${projectID}</param>
			</result>
			<result name="cancel" type="redirectAction">
				<param name="actionName">${crpSession}/partners</param>
				<param name="edit">true</param>
				<param name="cancel">true</param>
				<param name="projectID">${projectID}</param>
			</result>
		</action>

		<action name="{crp}/locations"
			class="org.cgiar.ccafs.marlo.action.projects.ProjectLocationAction">
			<interceptor-ref name="editProjectsStack" />
			<result name="input">/WEB-INF/views/projects/projectLocations.ftl
			</result>
			<result name="success" type="redirectAction">
				<param name="actionName">${crpSession}/locations</param>
				<param name="edit">true</param>
				<param name="projectID">${projectID}</param>
			</result>
			<result name="cancel" type="redirectAction">
				<param name="actionName">${crpSession}/locations</param>
				<param name="edit">true</param>
				<param name="cancel">true</param>
				<param name="projectID">${projectID}</param>
			</result>
		</action>

		<action name="{crp}/contributionsCrpList"
			class="org.cgiar.ccafs.marlo.action.projects.ProjectOutcomeListAction">
			<interceptor-ref name="editProjectsStack" />
			<result name="input">/WEB-INF/views/projects/projectContributionsCrpList.ftl
			</result>
		</action>


		<action name="{crp}/removeProjectOuctome" method="deleteProjectOutcome"
			class="org.cgiar.ccafs.marlo.action.projects.ProjectOutcomeListAction">
			<result name="input">/WEB-INF/views/projects/projectContributionsCrpList.ftl
			</result>
			<result name="success" type="redirectAction">
				<param name="actionName">${crpSession}/contributionsCrpList</param>
				<param name="edit">true</param>
				<param name="projectID">${projectID}</param>
			</result>
		</action>


		<action name="{crp}/addNewProjectOuctome" method="addProjectOutcome"
			class="org.cgiar.ccafs.marlo.action.projects.ProjectOutcomeListAction">
			<result name="input">/WEB-INF/views/projects/projectContributionsCrpList.ftl
			</result>
			<result name="success" type="redirectAction">
				<param name="actionName">${crpSession}/contributionCrp</param>
				<param name="edit">true</param>
				<!-- param name="projectID">${projectID}</param -->
				<param name="projectOutcomeID">${projectOutcomeID}</param>
			</result>
		</action>
		
		
		

		<action name="{crp}/contributionCrp"
			class="org.cgiar.ccafs.marlo.action.projects.ProjectOutcomeAction">
			<interceptor-ref name="editProjectListStack" />
			<interceptor-ref name="editProjectOutcome" />

			<interceptor-ref name="defaultStack" />
			<result name="input">/WEB-INF/views/projects/projectContributionCrp.ftl
			</result>
			<result name="success" type="redirectAction">
				<param name="actionName">${crpSession}/contributionCrp</param>
				<param name="edit">true</param>
				<param name="projectOutcomeID">${projectOutcomeID}</param>
			</result>
			<result name="cancel" type="redirectAction">
				<param name="actionName">${crpSession}/contributionCrp</param>
				<param name="edit">true</param>
				<param name="cancel">true</param>

				<param name="projectOutcomeID">${projectOutcomeID}</param>
			</result>
		</action>

		<action name="{crp}/otherContributions"
			class="org.cgiar.ccafs.marlo.action.projects.ProjectDescriptionAction">
			<interceptor-ref name="editProjectsStack" />
			<result name="input">/WEB-INF/views/projects/projectOtherContributions.ftl
			</result>
			<result name="success" type="redirectAction">
				<param name="actionName">${crpSession}/otherContributions</param>
				<param name="edit">true</param>
				<param name="projectID">${projectID}</param>
			</result>
			<result name="cancel" type="redirectAction">
				<param name="actionName">${crpSession}/otherContributions</param>
				<param name="edit">true</param>
				<param name="cancel">true</param>
				<param name="projectID">${projectID}</param>
			</result>
		</action>

		<action name="{crp}/deliverableList"
			class="org.cgiar.ccafs.marlo.action.projects.DeliverableListAction">
			<interceptor-ref name="editProjectsStack" />
			<result name="input">/WEB-INF/views/projects/deliverableList.ftl
			</result>
		</action>

		<action name="{crp}/addNewDeliverable" method="add"
			class="org.cgiar.ccafs.marlo.action.projects.DeliverableListAction">
			<interceptor-ref name="editProjectsStack" />
			<result name="input">/WEB-INF/views/projects/deliverableList.ftl
			</result>
			<result name="success" type="redirectAction">
				<param name="actionName">${crpSession}/deliverable</param>
				<param name="deliverableID">${deliverableID}</param>
				<param name="edit">true</param>
			</result>
		</action>

		<action name="{crp}/deleteDeliverable" method="delete"
			class="org.cgiar.ccafs.marlo.action.projects.DeliverableListAction">
			<interceptor-ref name="editProjectListStack" />
			<interceptor-ref name="editDeliverable" />
			<interceptor-ref name="defaultStack" />
			<result name="success" type="redirectAction">
				<param name="actionName">${crpSession}/deliverableList</param>
				<param name="projectID">${projectID}</param>
			</result>
		</action>

		<action name="{crp}/deliverable"
			class="org.cgiar.ccafs.marlo.action.projects.DeliverableAction">
			<interceptor-ref name="editProjectListStack" />
			<interceptor-ref name="editDeliverable" />
			<interceptor-ref name="defaultStack" />
			<result name="input">/WEB-INF/views/projects/projectDeliverable.ftl
			</result>
			<result name="success" type="redirectAction">
				<param name="actionName">${crpSession}/deliverable</param>
				<param name="deliverableID">${deliverable.id}</param>
				<param name="edit">true</param>
			</result>
			<!-- <result name="next" type="redirectAction"> <param name="actionName">impactPathway</param> 
				<param name="deliverableID">${deliverable.id}</param> </result> <result name="cancel" 
				type="redirectAction"> <param name="actionName">deliverable</param> <param 
				name="deliverableID">${deliverable.id}</param> </result> -->
		</action>


		<action name="{crp}/budgetByPartners"
			class="org.cgiar.ccafs.marlo.action.projects.ProjectBudgetByPartnersAction">
			<interceptor-ref name="editProjectsStack" />
			<result name="input">/WEB-INF/views/projects/projectBudgetByPartners.ftl
			</result>
			<result name="success" type="redirectAction">
				<param name="actionName">${crpSession}/budgetByPartners</param>
				<param name="edit">true</param>
				<param name="projectID">${projectID}</param>
			</result>
			<result name="cancel" type="redirectAction">
				<param name="actionName">${crpSession}/budgetByPartners</param>
				<param name="edit">true</param>
				<param name="cancel">true</param>
				<param name="projectID">${projectID}</param>
			</result>
		</action>

		<action name="{crp}/budgetByCoAs"
			class="org.cgiar.ccafs.marlo.action.projects.ProjectBudgetByClusterOfActivitiesAction">
			<interceptor-ref name="editProjectsStack" />
			<result name="input">/WEB-INF/views/projects/projectBudgetByCoAs.ftl
			</result>
			<result name="success" type="redirectAction">
				<param name="actionName">${crpSession}/budgetByCoAs</param>
				<param name="edit">true</param>
				<param name="projectID">${projectID}</param>
			</result>
			<result name="cancel" type="redirectAction">
				<param name="actionName">${crpSession}/budgetByCoAs</param>
				<param name="edit">true</param>
				<param name="cancel">true</param>
				<param name="projectID">${projectID}</param>
			</result>
		</action>

		<action name="{crp}/activities"
			class="org.cgiar.ccafs.marlo.action.projects.ProjectActivitiesAction">
			<interceptor-ref name="editProjectsStack" />
			<result name="input">/WEB-INF/views/projects/projectActivities.ftl
			</result>
			<result name="success" type="redirectAction">
				<param name="actionName">${crpSession}/activities</param>
				<param name="edit">true</param>
				<param name="projectID">${projectID}</param>
			</result>
			<result name="cancel" type="redirectAction">
				<param name="actionName">${crpSession}/activities</param>
				<param name="edit">true</param>
				<param name="cancel">true</param>
				<param name="projectID">${projectID}</param>
			</result>
		</action>

    <action name="{crp}/submit" class="org.cgiar.ccafs.marlo.action.projects.ProjectSubmissionAction">
      <result name="input">/WEB-INF/views/projects/projectSubmission.ftl</result>
      <result name="success" type="redirectAction">
        <param name="actionName">${crpSession}/submit</param>
        <param name="projectID">${projectID}</param>        
      </result>
    </action>
    
    

	</package>
</struts>
